--- /usr/share/openstack-dashboard/openstack_dashboard/api/swift.py-original	2014-07-16 00:10:58.605182849 -0300
+++ /usr/share/openstack-dashboard/openstack_dashboard/api/swift.py	2014-07-16 00:07:05.963411805 -0300
@@ -280,6 +280,7 @@
     size = 0
     if object_file:
         headers['X-Object-Meta-Orig-Filename'] = object_file.name
+        headers['Content-Length'] = object_file.size
         size = object_file.size
 
     etag = swift_api(request).put_object(container_name,
--- /usr/share/openstack-dashboard/openstack_dashboard/dashboards/admin/dashboard.py-original	2014-08-21 16:40:48.087791735 -0300
+++ /usr/share/openstack-dashboard/openstack_dashboard/dashboards/admin/dashboard.py	2014-09-01 20:51:39.363474146 -0300
@@ -38,7 +38,7 @@
     slug = "admin"
     panels = (SystemPanels, IdentityPanels)
     default_panel = 'overview'
-    permissions = ('openstack.roles.admin',)
+    permissions = ('openstack.roles.horizon_dashboard','openstack.roles.admin',)
 
 
 horizon.register(Admin)
--- /usr/share/openstack-dashboard/openstack_dashboard/dashboards/project/dashboard.py-original	2014-08-07 16:53:02.000000000 -0300
+++ /usr/share/openstack-dashboard/openstack_dashboard/dashboards/project/dashboard.py	2014-09-01 20:42:41.397505840 -0300
@@ -70,6 +70,7 @@
         DatabasePanels,)
     default_panel = 'overview'
     supports_tenants = True
+    permissions = ('openstack.roles.horizon_dashboard',)
 
 
 horizon.register(Project)
--- /usr/share/openstack-dashboard/openstack_dashboard/dashboards/router/dashboard.py-original	2014-08-07 16:53:02.000000000 -0300
+++ /usr/share/openstack-dashboard/openstack_dashboard/dashboards/router/dashboard.py	2014-09-01 20:51:49.219730039 -0300
@@ -26,7 +26,7 @@
     slug = "router"
     panels = ('nexus1000v',)
     default_panel = 'nexus1000v'
-    permissions = ('openstack.roles.admin',)
+    permissions = ('openstack.roles.horizon_dashboard','openstack.roles.admin',)
 
 
 if neutron.is_port_profiles_supported():
--- /usr/share/openstack-dashboard/openstack_dashboard/dashboards/settings/dashboard.py-original	2014-08-07 16:53:02.000000000 -0300
+++ /usr/share/openstack-dashboard/openstack_dashboard/dashboards/settings/dashboard.py	2014-09-01 20:41:38.851881670 -0300
@@ -25,6 +25,7 @@
     slug = "settings"
     panels = ('user', 'password', )
     default_panel = 'user'
+    permissions = ('openstack.roles.horizon_dashboard',)
 
     def nav(self, context):
         dash = context['request'].horizon.get('dashboard', None)
--- /usr/local/lib/python2.7/dist-packages/novadocker/virt/docker/driver.py-original	2014-09-23 11:25:55.847514747 -0300
+++ /usr/local/lib/python2.7/dist-packages/novadocker/virt/docker/driver.py	2014-09-23 11:26:00.739633976 -0300
@@ -28,7 +28,7 @@
 from nova.compute import power_state
 from nova.compute import task_states
 from nova import exception
-from nova.i18n import _
+from nova.openstack.common.gettextutils import _
 from nova.image import glance
 from nova.openstack.common import fileutils
 from nova.openstack.common import importutils
--- /usr/local/lib/python2.7/dist-packages/novadocker/virt/docker/network.py-original	2014-09-23 11:26:42.756658029 -0300
+++ /usr/local/lib/python2.7/dist-packages/novadocker/virt/docker/network.py	2014-09-23 11:26:34.284451539 -0300
@@ -14,7 +14,7 @@
 #    under the License.
 
 from nova import exception
-from nova.i18n import _
+from nova.openstack.common.gettextutils import _
 from nova.openstack.common import log
 from nova.openstack.common import processutils
 from nova import utils
--- /usr/local/lib/python2.7/dist-packages/novadocker/virt/docker/vifs.py-original	2014-09-23 11:26:59.749072185 -0300
+++ /usr/local/lib/python2.7/dist-packages/novadocker/virt/docker/vifs.py	2014-09-23 11:27:03.129154569 -0300
@@ -16,7 +16,7 @@
 
 
 from nova import exception
-from nova.i18n import _
+from nova.openstack.common.gettextutils import _
 from nova.network import linux_net
 from nova.network import manager
 from nova.network import model as network_model
